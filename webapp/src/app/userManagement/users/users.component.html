<div *ngIf="!displayEditDialog">
<input type="text" pInputText placeholder="Search by username" (input)="applyFilter($event)">
<button type="button" (click)="deleteSelectedUsers()" [disabled]="!selectedUsers || selectedUsers.length === 0">Delete Selected Users</button>
<p-table [value]="filteredUsers" [paginator]="true" [rows]="10" selectionMode="multiple" [(selection)]="selectedUsers" dataKey="id" responsiveLayout="scroll">
  <ng-template pTemplate="header">
    <tr>
      <th scope="col" pSortableColumn="username">Benutzername<p-sortIcon field="username"></p-sortIcon></th>
      <th scope="col" pSortableColumn="firstName">Vorname <p-sortIcon field="firstName"></p-sortIcon></th>
      <th scope="col" pSortableColumn="lastName">Nachname <p-sortIcon field="lastName"></p-sortIcon></th>
      <th scope="col">Rollen</th>
      <th scope="col">Enabled</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-user>
    <tr (click)="viewUserDetails(user)">
      <td>{{ user.username }}</td>
      <td>{{ user.firstName }}</td>
      <td>{{ user.lastName }}</td>
      <td>
        <ul>
          <li *ngFor="let role of user.roles">{{ role }}</li>
        </ul>
      </td>
      <td>{{ user.enabled ? "Yes" : "No" }}</td>
      <td>
        <p-button label="Edit" (onClick)="editUser(user)" icon="pi pi-pencil"></p-button>
      </td>
      <td> <p-tableCheckbox [value]="user" (click)="$event.stopPropagation()"></p-tableCheckbox> </td>
    </tr>
  </ng-template>
</p-table>
</div>
<div *ngIf="displayEditDialog">
  <app-user-edit [user]="selectedUser"></app-user-edit>
</div>

